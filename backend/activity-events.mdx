---
title: "Activity Events"
description: "Catalog of backend-generated changelog entries for entity activity timelines."
---

Activity events power the **Activity** timeline shown on Decision, Commitment, and Session detail pages. Events are appended to each entity's `changelog` JSON field as structured entries.

## Entry shape

```json
{
  "id": "<uuid>",
  "personId": 42,
  "action": "changed status",
  "fromValue": "Draft",
  "toValue": "Requested",
  "timestamp": "2026-02-13T14:30:00Z"
}
```

| Field       | Type      | Description                                    |
| ----------- | --------- | ---------------------------------------------- |
| `id`        | `string`  | UUID, generated server-side                    |
| `personId`  | `int`     | PK of the user who performed the action        |
| `action`    | `string`  | Human-readable verb phrase (see catalog below) |
| `fromValue` | `string?` | Previous value (for changes)                   |
| `toValue`   | `string?` | New value (for changes and assignments)        |
| `timestamp` | `string`  | ISO 8601 datetime of the event                 |

<Note>
  The frontend currently displays `daysAgo` (integer) instead of `timestamp`. This will be migrated to compute `daysAgo` from `timestamp` on the client side.
</Note>

## Implementation approach

Events are created **``explicitly in serializer create / update methods``** — not via Django signals. This keeps event generation predictable, allows easy access to `request.user` (the actor), and gives full control over which fields trigger events.

```python
# In serializer.update():
changelog = instance.changelog or []
changelog.append({
    "id": str(uuid.uuid4()),
    "personId": self.context["request"].user.pk,
    "action": "changed status",
    "fromValue": old_status,
    "toValue": new_status,
    "timestamp": now().isoformat(),
})
instance.changelog = changelog
```

## Event catalog

### Decision

| Trigger                   | Action                     | `action` text             | `fromValue`     | `toValue`       |
| ------------------------- | -------------------------- | ------------------------- | --------------- | --------------- |
| **Create**                | New decision created       | `"created this decision"` | —               | —               |
| **status** change         | Status updated             | `"changed status"`        | old status      | new status      |
| **requestedBy** change    | Requestor assigned/changed | `"changed requestor"`     | old person name | new person name |
| **sponsor** change        | Sponsor assigned/changed   | `"changed sponsor"`       | old person name | new person name |
| **owner** change          | Owner assigned/changed     | `"changed owner"`         | old person name | new person name |
| **circle** change         | Circle reassigned          | `"moved to circle"`       | old circle name | new circle name |
| **rolled** set to `true`  | —                          | _no event_                | —               | —               |
| **rolled** set to `false` | —                          | _no event_                | —               | —               |
| statement change          | —                          | _no event_                | —               | —               |
| description change        | —                          | _no event_                | —               | —               |
| discussion change         | —                          | _no event_                | —               | —               |
| summary change            | —                          | _no event_                | —               | —               |
| requestedDate change      | —                          | _no event_                | —               | —               |
| projects change           | Project assigned/changed   | `"changed project"`       | —               | —               |

### Commitment

| Trigger             | Action                   | `action` text               | `fromValue`     | `toValue`       |
| ------------------- | ------------------------ | --------------------------- | --------------- | --------------- |
| **Create**          | New commitment created   | `"created this commitment"` | —               | —               |
| **status** change   | Status updated           | `"changed status"`          | old status      | new status      |
| **owner** change    | Owner assigned/changed   | `"changed owner"`           | old person name | new person name |
| **circle** change   | Circle reassigned        | `"moved to circle"`         | old circle name | new circle name |
| **due** change      | Due date updated         | `"changed due date"`        | old due         | new due         |
| **decision** change | Linked decision changed  | `"linked to decision"`      | —               | decision ref    |
| **project** change  | Project assigned/changed | `"changed project"`         | —               | —               |
| outcome change      | —                        | _no event_                  | —               | —               |
| description change  | —                        | _no event_                  | —               | —               |

### Session

| Trigger                | Action                          | `action` text            | `fromValue`    | `toValue`      |
| ---------------------- | ------------------------------- | ------------------------ | -------------- | -------------- |
| **Create**             | New session created             | `"created this session"` | —              | —              |
| **status** change      | Status updated                  | `"changed status"`       | old status     | new status     |
| **date** change        | Date rescheduled                | `"changed date"`         | old date       | new date       |
| **decision added**     | Decision added to session       | `"added decision"`       | —              | decision ref   |
| **decision removed**   | Decision removed from session   | `"removed decision"`     | decision ref   | —              |
| **commitment added**   | Commitment added to session     | `"added commitment"`     | —              | commitment ref |
| **commitment removed** | Commitment removed from session | `"removed commitment"`   | commitment ref | —              |
| title change           | —                               | _no event_               | —              | —              |
| notes change           | —                               | _no event_               | —              | —              |

### Entities without activity timelines

The following entities do **not** have a `changelog` field and do not generate activity events:

| Entity           | Reason                                                          |
| ---------------- | --------------------------------------------------------------- |
| Circle           | Admin-level config — changes are infrequent and not user-facing |
| Initiative       | No detail-page activity timeline in V1                          |
| Project          | No detail-page activity timeline in V1                          |
| Update           | Updates are themselves a form of activity record                |
| CircleMembership | Tracked implicitly through circle admin                         |

## Design rationale

**``Why changelog JSON field instead of a separate ActivityEvent table?``**

- Events are always read together with their parent entity — no cross-entity queries needed
- No joins required; the changelog loads with the entity in a single query
- Simpler schema: no foreign keys, no migration for every new event type
- Trade-off: changelog is not independently queryable (acceptable for V1 — no inbox/notification use case yet)

**Why explicit over signals?**

- Selective: only tracked fields generate events (free-text edits like description/notes do not)
- Actor is always available via `request.user` in the serializer context
- Easy to resolve human-readable names (person name, circle name) at write time rather than at read time
- Predictable: no hidden side effects, easy to test