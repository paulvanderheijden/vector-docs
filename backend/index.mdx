---
title: "Backend Overview"
description: "Technical architecture for the Vector backend."
---

Vector uses a **Django REST Framework** backend with PostgreSQL, hosted on **Railway**. Authentication is email/password with JWT tokens. Workspace isolation is enforced at the application level via permission classes and queryset scoping.

## Architecture

```
React app (Vercel) → Django REST API (Railway) → PostgreSQL (Railway)
```

The frontend calls the Django API over HTTPS. All CRUD operations go through explicit DRF viewsets. Authorization is enforced in Django via permission classes and workspace-scoped querysets.

## Tech stack

| Layer | Technology |
|---|---|
| **Framework** | Django 5.1 + Django REST Framework |
| **Database** | PostgreSQL (hosted on Railway) |
| **Auth** | Email/password login, JWT via SimpleJWT |
| **Authorization** | DRF permission classes + workspace-scoped viewset mixins |
| **Future SSO** | WorkOS (SAML, directory sync — not yet implemented) |
| **Hosting** | Railway (backend + database), Vercel (frontend) |

## Why Django

| Concern | Approach |
|---|---|
| **API** | Explicit DRF viewsets and serializers — full control over endpoints |
| **Auth** | SimpleJWT for token management, custom User model with email login |
| **Workspace isolation** | `WorkspaceScopedViewSetMixin` auto-filters querysets by workspace |
| **Permissions** | DRF permission classes (`HasWorkspaceAccess`) checked on every request |
| **Admin** | Built-in Django admin for workspace and user management |
| **Migrations** | Django's migration framework — version-controlled, reversible |
| **Future SSO** | WorkOS integration for enterprise SAML when needed |

## Project structure

The backend lives in the `backend/` directory of the monorepo (`vector/`).

```
backend/
├── vector/                     # Django project package
│   ├── settings.py
│   ├── urls.py                 # Root URL config: auth/ + api/v1/workspaces/<slug>/
│   ├── wsgi.py
│   └── asgi.py
├── authentication/             # Auth app
│   ├── models.py               # User, Workspace, WorkspaceMember
│   ├── serializers.py          # WorkspaceSerializer
│   ├── views.py                # login, logout, me, workspaces, switch
│   ├── urls.py
│   └── admin.py
└── core/                       # Domain app
    ├── models.py               # Circle, Decision, Commitment, Session, Initiative, Project, Update
    ├── serializers.py           # DRF serializers for all domain models
    ├── views.py                 # ViewSets for all domain resources
    ├── urls.py                  # DRF router registering all viewsets
    ├── admin.py                 # Django admin registration
    ├── managers.py              # WorkspaceScopedManager, WorkspaceScopedQuerySet
    ├── viewsets.py              # WorkspaceScopedViewSetMixin
    ├── permissions.py           # HasWorkspaceAccess, IsSuperUser
    └── management/
        └── commands/
            └── seed.py          # Seed command for dev data
```

## Frontend integration

The React app (in `frontend/`) authenticates via JWT and includes the token in every request. The frontend uses Axios with interceptors for JWT management and React Query for data fetching.

```typescript
// Axios client (frontend/src/lib/api.ts)
const api = axios.create({ baseURL: import.meta.env.VITE_API_URL });

// JWT interceptor attaches access token from localStorage
// 401 interceptor auto-refreshes expired tokens

// React Query hooks (frontend/src/lib/services/*.ts)
const { data: decisions } = useDecisions({ circle: "mt-weekly" });
const { data: session } = useSession("mt-weekly-12");
```

## Sections

<CardGroup cols={2}>
  <Card title="Auth & Multi-Tenancy" icon="lock" href="/backend/auth-and-tenancy">
    JWT authentication, workspace isolation, and the WorkOS roadmap.
  </Card>
  <Card title="Auth Lifecycle" icon="arrows-rotate" href="/backend/auth-lifecycle">
    The complete login, session, and token lifecycle from first visit to logout.
  </Card>
  <Card title="API Reference" icon="code" href="/backend/api">
    REST API conventions, auth endpoints, and domain endpoints.
  </Card>
  <Card title="Permissions" icon="user-shield" href="/backend/permissions">
    How permissions are derived from data relationships and enforced in Django.
  </Card>
</CardGroup>
