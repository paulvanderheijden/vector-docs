---
title: "Permissions"
description: "How user permissions are derived from data relationships — not assigned as roles."
---

Vector does not have an explicit permissions model with role-per-user assignments. Instead, permissions are **derived** from the user's relationship to entities in the system. What a person can do depends on where they are: which workspace they belong to, which circles they're in, and what role they hold in each.

## Permission contexts

A person's capabilities change based on context. The same person can be an organizer in one circle, a regular member in another, and have no access to a third.

| Context | Derived from | Description |
|---|---|---|
| **Workspace Member** | `WorkspaceMember` record exists and `is_active = True` | Base access — the person is in the workspace |
| **Circle Member** | Listed in `circle_members` with role `Member` | Can see and participate in circle activity |
| **Circle Organizer** | Listed in `circle_members` with role `Organizer` | Can manage sessions and agendas |
| **Workspace Admin** | `WorkspaceMember.role = "admin"` | Can manage workspace settings and people |

These are not levels in a hierarchy — they're independent contexts that combine. A person could be a workspace admin, an organizer in MT Weekly, a regular member in Product Forum, and have no access to People & Org.

## Enforcement in Django

Permissions are enforced at the **application level** via DRF permission classes and viewset mixins:

| Layer | Mechanism | What it checks |
|---|---|---|
| **Request entry** | `HasWorkspaceAccess` permission class | User has active `WorkspaceMember` for the workspace slug in the URL |
| **Queryset filtering** | `WorkspaceScopedViewSetMixin` | All queries scoped to the workspace in the URL |
| **Object-level** | Custom permission classes per entity (future) | Circle membership, organizer role, ownership checks |
| **Superuser** | `IsSuperUser` permission class | Bypasses workspace scoping for admin endpoints |

```python
# Example: a workspace-scoped viewset with workspace access check
class DecisionViewSet(WorkspaceScopedViewSetMixin, viewsets.ModelViewSet):
    queryset = Decision.objects.all()
    serializer_class = DecisionSerializer
    permission_classes = [HasWorkspaceAccess]
```

## Capability matrix

### Decisions

| Action | Workspace Member | Circle Member | Circle Organizer |
|---|---|---|---|
| Create a draft decision | yes | yes | yes |
| Edit own draft | yes | yes | yes |
| Propose a decision to a circle | yes | yes | yes |
| View decisions in a circle | — | yes | yes |
| Be assigned as sponsor | — | yes (own circle) | yes (own circle) |
| Schedule a decision for a session | — | — | yes |

### Commitments

| Action | Workspace Member | Circle Member | Circle Organizer |
|---|---|---|---|
| View commitments in a circle | — | yes | yes |
| Be assigned as commitment owner | — | yes (own circle) | yes (own circle) |
| Update own commitment status | — | yes | yes |

### Sessions

| Action | Workspace Member | Circle Member | Circle Organizer |
|---|---|---|---|
| View sessions in a circle | — | yes | yes |
| Attend a session | — | yes | yes |
| Reorder decisions on agenda | — | — | yes |
| Add/remove decisions from agenda | — | — | yes |
| Mark session as completed | — | — | yes |
| Edit meeting notes | — | yes | yes |

### Initiatives & Projects

| Action | Workspace Member | Circle Member | Circle Organizer |
|---|---|---|---|
| View public initiatives/projects | yes | yes | yes |
| View restricted initiatives/projects | only if member of a linked circle | only if member of a linked circle | only if member of a linked circle |
| Create project updates | yes (if project lead) | yes (if project lead) | yes (if project lead) |

### Workspace (Admin only)

| Action | Workspace Member | Workspace Admin |
|---|---|---|
| View workspace settings | — | yes |
| Invite/remove people | — | yes |
| Create/edit/delete circles | — | yes |
| Manage circle membership | — | yes |
| Create/edit initiatives | — | yes |

## How permissions are derived

There are no permission tables. The system checks relationships at query time:

```
Can this person see decisions in MT Weekly?
  → Is the person in mt_weekly.members?
    → Yes → allow
    → No → deny

Can this person be assigned as sponsor for a decision in Product Forum?
  → Is the person in product_forum.members?
    → Yes → allow
    → No → deny

Can this person schedule decisions for a session?
  → Is the person in the circle's members with role = Organizer?
    → Yes → allow
    → No → deny

Can this person invite new members to the workspace?
  → Is the person's WorkspaceMember.role = "admin"?
    → Yes → allow
    → No → deny
```

## Key constraints

| Rule | Enforced by |
|---|---|
| A decision sponsor must be a member of the decision's circle | Validated in serializer/view when setting `sponsor_person_id` |
| A commitment owner must be a member of the review circle | Validated in serializer/view when setting `owner_person_id` |
| Circle content is only visible to circle members | Queryset filtering by membership in the viewset |
| Only organizers can manage session agendas | Permission check on `circle_members` role |
| Only workspace admins can manage workspace settings | `HasWorkspaceAccess` + admin role check |

## Soft-delete and disabled members

Workspace members are never hard-deleted. When a person is removed from a workspace, their `WorkspaceMember.is_active` is set to `False`. The `HasWorkspaceAccess` permission class only allows access for members with `is_active = True`, which immediately revokes all permissions derived from workspace membership.

Historical references (e.g., requestor or sponsor on past decisions) remain intact because the person record is not deleted.

## What happens when membership changes

| Event | Effect |
|---|---|
| Person removed from a circle | Loses access to circle content. Existing sponsorships and commitment ownerships remain but should be reassigned. |
| Person added to a circle | Immediately sees all circle content (decisions, commitments, sessions). |
| Person promoted to organizer | Gains session management capabilities in that circle. |
| Person demoted from organizer to member | Loses session management capabilities but retains all member access. |
| Person disabled in workspace | Loses all active access (`is_active = False`). Historical references preserved. Active decision ownerships and commitment ownerships must be reassigned — the reassignment flow is not yet designed (deferred). |

## Why not explicit roles?

An explicit permission model (e.g., role-based access control with a permissions table) would require maintaining role assignments separately from the data. In Vector, the data *is* the permission model:

- Being in a circle's member list = having circle access
- Having the organizer role = having management rights
- Being a workspace admin = having workspace management rights

This means there's no drift between "what the system thinks you can do" and "what your actual relationship to the data is." When a person leaves a circle, their permissions are gone — there's no orphaned role entry to clean up.
