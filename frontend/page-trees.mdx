---
title: "Page Component Trees"
description: "Per-page nested component structure showing how shared components compose into each screen."
---

## App Shell

Wraps all pages. Always rendered.

```
App
├── WorkspaceProvider (personId={currentUser.id})
│   └── SidebarProvider
│       ├── AppSidebar
│       │   ├── Sidebar > SidebarHeader
│       │   │   └── DropdownMenu (workspace switcher: name + ChevronsUpDown)
│       │   └── SidebarContent
│       │       ├── SidebarGroup: top links (Inbox, My Items)
│       │       ├── Collapsible: Workspace (Strategy, Initiatives, Projects, Circles)
│       │       └── Collapsible: Your Circles (filtered by active workspace)
│       │           └── Collapsible (per circle)
│       │               ├── Sessions > Previous / Current (if exists) / Upcoming
│       │               ├── Decisions
│       │               └── Commitments
│       └── SidebarInset
│           ├── [sticky] PageHeader (injected by current page via usePageHeader)
│           └── ScrollArea
│               └── <Outlet /> → current page
```

---

## Inbox `/`

Shows proposed decisions from the user's circles, filterable by circle.

```
PageHeader (via usePageHeader)
├── PageHeaderRow
│   ├── PageHeaderGroup: "Inbox" + circle filter tabs + [+] button
│   └── PageHeaderGroup: [New Decision] button
└── PageHeaderRow
    ├── PageHeaderGroup: Filter popover
    └── PageHeaderGroup: Display popover

Page body
└── EntityList (ref + statement, StatusField + CircleField + DateField)
```

---

## My Items `/my-items`

User's assigned decisions and commitments with tab switching.

```
PageHeader (via usePageHeader)
├── PageHeaderRow
│   ├── PageHeaderGroup: "My Items" + Decisions/Commitments tabs + [+] button
│   └── PageHeaderGroup: [New Decision / New Commitment] button
└── PageHeaderRow
    ├── PageHeaderGroup: Filter popover
    └── PageHeaderGroup: Display popover

Page body (conditional on active tab)
├── EntityList (ref + statement, StatusField + CircleField + DateField)    ← decisions tab
└── EntityList (ref + outcome, StatusField + CircleField + PersonField)    ← commitments tab
```

---

## Strategy `/strategy`

Editable strategy document with auto-generated table of contents sidebar.

```
PageHeader (via usePageHeader)
├── PageHeaderRow
│   ├── PageHeaderGroup: "Strategy"
│   └── PageHeaderGroup: Display popover

Page body
├── Main column (max-w-800)
│   ├── h1 "Strategy" (static heading)
│   └── MarkdownEditor (strategy content)
└── TOC sidebar (sticky right nav, lg+ only)
    └── Heading links (extracted from editor DOM via useTableOfContents)
```

---

## Circles List `/circles`

Table of all circles with membership, purpose, cadence, and member avatars.

```
PageHeader (via usePageHeader)
├── PageHeaderRow
│   ├── PageHeaderGroup: "Circles" + [All Circles] + [+] button
│   └── PageHeaderGroup: [New Circle] button
└── PageHeaderRow
    ├── PageHeaderGroup: Filter popover
    └── PageHeaderGroup: Display popover

Page body
└── DataTable (direct usage, custom columns)
    └── Columns: name, membership (Join button), purpose Badge, cadence, member Avatars
```

---

## Circle Decisions `/circles/:slug/decisions`

Circle's decisions, filterable by all/open.

```
PageHeader (via usePageHeader)
├── PageHeaderRow
│   ├── PageHeaderGroup: circle icon + "Circle > Decisions" + filter tabs (All decisions / Open)
│   └── PageHeaderGroup: [New Decision] button
└── PageHeaderRow
    ├── PageHeaderGroup: Filter popover
    └── PageHeaderGroup: Display popover

Page body
└── DecisionsTable (showCircle=false, showSession, noDividers)
```

---

## Circle Commitments `/circles/:slug/commitments`

Circle's commitments.

```
PageHeader (via usePageHeader)
├── PageHeaderRow
│   ├── PageHeaderGroup: circle icon + "Circle > Commitments"
│   └── PageHeaderGroup: (empty)
└── PageHeaderRow
    ├── PageHeaderGroup: Filter popover
    └── PageHeaderGroup: Display popover

Page body
└── CommitmentsTable (showCircle=false, noDividers)
```

---

## Decision Detail `/circles/:slug/decisions/:decisionSlug`

Single-page decision view with inline properties (no sidebar).

```
PageHeader (via usePageHeader)
└── PageHeaderRow
    └── PageHeaderGroup
        ├── Circle icon
        └── HeaderBreadcrumb: Circle > Decisions > DEC-N > statement

Page body (max-w-800)
├── TextField (editable, decision statement)
├── PropertiesRow (title="Properties", inline)
│   ├── PropertiesRow.Item → StatusField (decision, editable)
│   ├── PropertiesRow.Item → DateField (requestedDate, display="both")
│   ├── PropertiesRow.Item → PersonField (requested by, read-only, showName)
│   ├── PropertiesRow.Item → CircleField (circle)
│   ├── PropertiesRow.Item → PersonField (sponsor, nullable, editable)
│   └── PropertiesRow.Item → PersonField (owner, nullable, editable)
├── "Description" → MarkdownEditor
├── "Discussion and outcome" → MarkdownEditor
├── "Summary for requestor" → MarkdownEditor
├── "Commitments" → EntityList (linked commitments with status + owner)
└── "Activity" → ChangeLog
```

---

## Commitment Detail `/circles/:slug/commitments/:commitmentSlug`

Single-page commitment view with inline properties. No sidebar.

```
PageHeader (via usePageHeader)
└── PageHeaderRow
    ├── PageHeaderGroup
    │   ├── Circle icon
    │   └── HeaderBreadcrumb: Circle > Commitments > COM-N > outcome
    └── PageHeaderGroup
        └── [Re-commit?] button (if rolled/at-risk)

Page body (max-w-800)
├── Alert banner (rolled = red, at-risk = amber)
├── TextField (editable, commitment outcome)
├── PropertiesRow (title="Properties", inline)
│   ├── PropertiesRow.Item → StatusField (commitment)
│   ├── PropertiesRow.Item → DateField (due, prefix="Due")
│   ├── PropertiesRow.Item → PersonField (owner, read-only, showName)
│   └── PropertiesRow.Item → CircleField (circle)
├── "Linked Decision" → Link card with StatusField (decision) + CircleField (inline)
└── "Activity" → ChangeLog
```

---

## Sessions List `/circles/:slug/sessions`

Paginated list of circle sessions.

```
PageHeader (via usePageHeader)
└── PageHeaderRow
    ├── PageHeaderGroup: circle icon + "Circle > Sessions"
    └── PageHeaderGroup: [New Session] button

Page body (max-w-800)
├── DataTable (direct usage, custom columns)
│   └── Columns: #number, title + Badge (Previous green / Current amber / Upcoming blue), date, decisions count, commitments count, completed check
└── Pagination controls (Previous / Next buttons)
```

---

## Session Detail `/circles/:slug/sessions/:sessionNumber`

Meeting workspace with decisions agenda, commitments review, notes editor, and decision drawer.

```
PageHeader (via usePageHeader)
└── PageHeaderRow
    └── PageHeaderGroup
        ├── Circle icon
        └── HeaderBreadcrumb: Circle > Session switcher popover (session number + friendly date)

Page body (max-w-800)
├── TextField (editable session title, as h1)
├── PropertiesRow (title="Properties")
│   ├── PropertiesRow.Item → DateField (session date)
│   ├── PropertiesRow.Item → StatusField (session, editable)
│   └── PropertiesRow.Item → PersonField (chair, editable, showName)
├── "Decisions" section
│   ├── SectionHeading + [Add Decision] button
│   └── DecisionsTable
│       (showCircle=false, showSubmitted=false, showSelect=false,
│        showDragHandle=false, showHeader=false, combinedStatusOwner,
│        noDividers, onReorder, onDecisionClick → opens drawer)
├── "Commitments" section
│   ├── SectionHeading + [Add Commitment] button
│   └── CommitmentsTable
│       (showCircle=false, showDecision=false, showSelect=false,
│        showHeader=false, combinedStatusOwner, noDividers)
├── "Meeting Notes" section
│   └── MarkdownEditor (session notes)
└── "Activity" → ChangeLog

Decision drawer (fixed right, 480px, toggle on row click)
├── Drawer header: ref + statement + [open full] Link + [close] button
└── Drawer content
    ├── Properties row: StatusField (decision), DateField (age), owner/sponsor, requested by
    ├── "Description" → text
    ├── "Discussion" → text
    └── "Summary" → text
```

---

## Initiatives List `/initiatives`

Filterable list of initiatives with status tabs.

```
PageHeader (via usePageHeader)
├── PageHeaderRow
│   ├── PageHeaderGroup: "Initiatives" + Active/Planned/Completed tabs + [+] button
│   └── PageHeaderGroup: [New Initiative] button
└── PageHeaderRow
    ├── PageHeaderGroup: Filter popover (health Select, owner Select)
    └── PageHeaderGroup: Display popover

Page body
└── DataTable (direct usage, custom columns)
    └── Columns: icon, title, PersonField (owner), target, projects count, HealthField
```

---

## Initiative Detail `/initiatives/:initiativeId`

Initiative detail with icon picker, editable properties, tabs (overview, updates, projects), and right sidebar.

```
PageHeader (via usePageHeader)
└── PageHeaderRow
    ├── PageHeaderGroup
    │   ├── HeaderBreadcrumb: Initiatives > title
    │   └── Tab buttons: Overview | Updates | Projects
    └── PageHeaderGroup
        ├── [Add project] button
        └── Sidebar toggle

Page body (conditional on active tab)
├── Overview tab (max-w-800)
│   ├── Popover → icon picker grid (8 icon/color combos)
│   ├── TextField (editable, initiative title)
│   ├── TextField (summary, as p)
│   ├── PropertiesRow (title="Properties")
│   │   ├── PropertiesRow.Item → StatusField (initiative, editable)
│   │   ├── PropertiesRow.Item → HealthField
│   │   ├── PropertiesRow.Item → PersonField (owner, editable)
│   │   └── PropertiesRow.Item → TargetDateField
│   └── "Description" → MarkdownEditor
├── Updates tab → placeholder
└── Projects tab
    └── DataTable (direct usage, project columns)
        └── Columns: title + Lock icon, PersonField (owner), HealthField, decisions count, commitments count

DetailSidebar (fixed right, 288px, toggle)
├── SidebarSection "Properties"
│   └── PropertiesRow (stacked)
│       ├── PropertiesRow.Item "Status" → StatusField (initiative, editable)
│       ├── PropertiesRow.Item "Health" → HealthField
│       ├── PropertiesRow.Item "Owner" → PersonField (editable)
│       └── PropertiesRow.Item "Target" → TargetDateField
└── SidebarSection "Summary" → text
```

---

## Projects List `/projects`

Projects grouped by initiative, filterable by health.

```
PageHeader (via usePageHeader)
├── PageHeaderRow
│   ├── PageHeaderGroup: "Projects" + All/My tabs + [+] button
│   └── PageHeaderGroup: [New Project] button
└── PageHeaderRow
    ├── PageHeaderGroup: Filter popover (health Select, reset button)
    └── PageHeaderGroup: Display popover

Page body
└── DataTable (direct usage, grouped by initiativeId)
    ├── Group row: expand/collapse + initiative title + project count + [+] button
    └── Columns: title + Lock icon, PersonField (owner), HealthField, decisions count, commitments count
```

---

## Project Detail `/projects/:projectId`

Project detail with decisions, commitments sections and toggleable right sidebar.

```
PageHeader (via usePageHeader)
└── PageHeaderRow
    ├── PageHeaderGroup
    │   └── HeaderBreadcrumb: Projects > title
    └── PageHeaderGroup
        ├── [Follow/Following] button (public projects, non-owner)
        └── Sidebar toggle

Page body (max-w-800)
├── Alert banner (if >2 rolled commitments)
├── TextField (editable, project title)
├── TextField (description, as p)
├── PropertiesRow (title="Properties")
│   ├── PropertiesRow.Item → HealthField
│   ├── PropertiesRow.Item → PropertySelect (visibility)
│   ├── PropertiesRow.Item → PropertySelect (owner)
│   └── PropertiesRow.Item → InitiativeField (parent initiative)
├── "Decisions" → EntityList (ref + title, circle name + StatusField)
└── "Commitments" → EntityList (ref + outcome, StatusField + PersonField)

DetailSidebar (fixed right, 288px, toggle)
├── SidebarSection "Properties"
│   └── PropertiesRow (stacked)
│       ├── PropertiesRow.Item "Health" → HealthField
│       ├── PropertiesRow.Item "Visibility" → PropertySelect
│       ├── PropertiesRow.Item "Owner" → PropertySelect
│       └── PropertiesRow.Item "Initiative" → InitiativeField
├── SidebarSection "Signals"
│   └── PropertiesRow (stacked)
│       ├── PropertiesRow.Item "Open" → commitment count
│       ├── PropertiesRow.Item "Rolled" → rolled count
│       └── PropertiesRow.Item "Dec. (14d)" → recent decision count
└── SidebarSection "People" (private projects only)
    ├── Owner row: Avatar + name + "Owner" Badge
    ├── Subscriber rows: Avatar + name + [remove] button
    └── Select (invite person)
```
