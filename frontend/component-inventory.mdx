---
title: "Component Inventory"
description: "Canonical list of every shared component, its purpose, props, and which pages use it."
---

## Layout Components

### PageTitle

`src/components/PageTitle.tsx`

Page-level heading with consistent typography. Supports both static and editable modes. Wraps `InlineText` internally when editable.

**Static usage:**
```tsx
<PageTitle>Strategy</PageTitle>
```

**Editable usage:**
```tsx
<PageTitle editable value={title} onChange={setTitle} />
```

| Prop | Type | Default | Description |
|---|---|---|---|
| `children` | `ReactNode` | — | Static title content (when not editable) |
| `editable` | `boolean` | `false` | Enable click-to-edit mode |
| `value` | `string` | — | Current value (editable mode) |
| `onChange` | `(value) => void` | — | Save handler (editable mode) |
| `placeholder` | `string?` | — | Placeholder when empty (editable mode) |
| `className` | `string?` | — | Additional styling |

**Used in:** Strategy (static), DecisionDetail, CommitmentReview, InitiativeDetail, ProjectDetail (all editable)

### PageHeader / PageHeaderRow / PageHeaderGroup

`src/components/PageHeader.tsx`

Consistent page header layout injected into the App shell's sticky header area via the `usePageHeader` hook. `PageHeader` wraps rows, `PageHeaderRow` is a horizontal bar with `border-b`, `PageHeaderGroup` groups items with flex gap. Convention: Row 1 = title + tabs + actions, Row 2 = Filter + Display popovers.

| Prop | Type | Description |
|---|---|---|
| `children` | ReactNode | Content |

**Used in:** every page

### DetailSidebar (SidebarSection)

`src/components/DetailSidebar.tsx`

Right-side detail panel for entity detail pages. Fixed-position aside, 288px wide, slides in/out with transition. `SidebarSection` is a collapsible section with title. Property rows inside use `PropertiesRow` with `stacked` layout.

| Component | Props |
|---|---|
| `SidebarSection` | `title: string`, `defaultOpen?: boolean` (default true), `children: ReactNode` |

**Used in:** DecisionDetail, CommitmentReview, InitiativeDetail, ProjectDetail

### PropertiesRow (+ PropertiesRow.Item)

`src/components/PropertiesRow.tsx`

Renders a group of field components in either inline (horizontal) or stacked (vertical) layout. Provides an `editable` flag via React context that child fields can read with the `usePropertiesEditable()` hook.

**Inline usage (detail page body):**
```tsx
<PropertiesRow title="Properties">
  <PropertiesRow.Item><StatusField value={status} /></PropertiesRow.Item>
  <PropertiesRow.Item><PersonField value={owner} /></PropertiesRow.Item>
</PropertiesRow>
```

**Stacked usage (sidebar):**
```tsx
<PropertiesRow stacked>
  <PropertiesRow.Item label="Status"><StatusField value={status} /></PropertiesRow.Item>
  <PropertiesRow.Item label="Owner"><PersonField value={owner} /></PropertiesRow.Item>
</PropertiesRow>
```

**Read-only usage:**
```tsx
<PropertiesRow title="Properties" editable={false}>
  ...fields inherit read-only via usePropertiesEditable()
</PropertiesRow>
```

| Prop | Type | Default | Description |
|---|---|---|---|
| `title` | `string?` | — | Label shown at start of row (inline mode only) |
| `stacked` | `boolean` | `false` | Vertical layout with labeled rows (for sidebars) |
| `editable` | `boolean` | `true` | Propagated via context to child fields |
| `className` | `string?` | — | Additional styling |

`PropertiesRow.Item` props:

| Prop | Type | Description |
|---|---|---|
| `label` | `string?` | Row label (only rendered in stacked mode) |
| `children` | `ReactNode` | Field content |

Exports `usePropertiesEditable()` hook for field components to read the inherited editable state.

**Used in:** DecisionDetail, CommitmentReview, InitiativeDetail, ProjectDetail (both inline and stacked)

### AppSidebar

`src/components/AppSidebar.tsx`

Main navigation sidebar. Uses shadcn `Sidebar*` primitives + Radix `Collapsible`. Structure:

- **Top-level links** — Inbox, My Items
- **Workspace section** — Strategy, Initiatives, Projects, Circles
- **Your Circles** — one collapsible per circle with sub-items:
  - Sessions (Previous / Current (if exists) / Upcoming shortcuts)
  - Decisions
  - Commitments

First circle is expanded by default. Active route is highlighted.

**Used in:** App shell (always visible)

---

## Data Display Components

### DecisionsTable

`src/components/DecisionsTable.tsx`

Reusable decisions table wrapping `DataTable`. Decision-specific columns: ref, statement, circle, session link, owner avatar, status badge, age. Supports column visibility toggling, combined status+owner column for compact views, drag-and-drop reorder, and click-to-open handler.

| Prop | Type | Default | Description |
|---|---|---|---|
| `decisions` | `Decision[]` | required | Decision data |
| `showCircle` | `boolean` | `true` | Show circle column |
| `showSession` | `boolean` | `false` | Show session column |
| `showAge` | `boolean` | `true` | Show age column |
| `noDividers` | `boolean` | — | Remove row dividers |
| `onReorder` | `(from, to) => void` | — | Enable drag-and-drop |
| `onDecisionClick` | `(decision) => void` | — | Click handler (replaces Link) |
| `showSelect` | `boolean` | — | Show row selection checkboxes |
| `showDragHandle` | `boolean` | — | Show drag handle |
| `showHeader` | `boolean` | — | Show table header |
| `combinedStatusOwner` | `boolean` | `false` | Merge status + owner into single right-aligned column |
| `personColumn` | `"owner"` / `"sponsor"` | `"owner"` | Which person to show in owner column |

**Used in:** Inbox, MyItems, CircleDecisions, SessionDetail

### CommitmentsTable

`src/components/CommitmentsTable.tsx`

Reusable commitments table wrapping `DataTable`. Commitment-specific columns: ref, outcome, decision ref, circle, owner avatar, due date, status badge.

| Prop | Type | Default | Description |
|---|---|---|---|
| `commitments` | `Commitment[]` | required | Commitment data |
| `showOwner` | `boolean` | `true` | Show owner column |
| `showCircle` | `boolean` | `true` | Show circle column |
| `showDecision` | `boolean` | `true` | Show decision column |
| `noDividers` | `boolean` | — | Remove row dividers |
| `showSelect` | `boolean` | — | Show row selection checkboxes |
| `showHeader` | `boolean` | — | Show table header |
| `combinedStatusOwner` | `boolean` | `false` | Merge decision ref + owner into single column |

**Used in:** MyItems, CircleCommitments, DecisionDetail, SessionDetail

### DecisionList

`src/components/DecisionList.tsx`

Lightweight decision list for project context. Compact row format: status badge (fixed width), ref, title, circle name, age. Uses `ProjectDecision` type (from projects-store), not the main `Decision` type.

| Prop | Type | Description |
|---|---|---|
| `decisions` | `ProjectDecision[]` | Decision data |

**Used in:** ProjectDetail (decisions tab)

### CommitmentList

`src/components/CommitmentList.tsx`

Lightweight commitment list for project context. Compact row format: status badge (fixed width), ref, outcome, owner first name, due label. Uses `ProjectCommitment` type (from projects-store).

| Prop | Type | Description |
|---|---|---|
| `commitments` | `ProjectCommitment[]` | Commitment data |

**Used in:** ProjectDetail (commitments tab)

### ChangeLog

`src/components/ChangeLog.tsx`

Activity feed. Each entry shows avatar, person name, action description, optional from/to values, and days ago.

| Prop | Type | Description |
|---|---|---|
| `entries` | `ChangeLogEntry[]` | Activity entries |

**Used in:** DecisionDetail (activity section), CommitmentReview (activity tab)

### HealthIndicator

`src/components/HealthIndicator.tsx`

Visual health status with colored icon (TrendingUp / TrendingUpDown / TrendingDown) and label. Optional staleness indicator ("Xd").

| Prop | Type | Description |
|---|---|---|
| `health` | `InitiativeHealth` | `"on-track"` / `"at-risk"` / `"off-track"` |
| `daysAgo` | `number?` | Days since last health update |

**Used in:** InitiativesList, InitiativeDetail (project table), ProjectsList, ProjectDetail (sidebar)

### TeamChips

`src/components/TeamChips.tsx`

Renders team names as outlined `Badge` components. Resolves team IDs to names via projects-store.

| Prop | Type | Description |
|---|---|---|
| `teamIds` | `string[]` | Team IDs to display |

**Used in:** InitiativeDetail (project table), ProjectsList, ProjectDetail (overview + sidebar)

### VisibilityIndicator

`src/components/VisibilityIndicator.tsx`

Inline icon + label for public/private visibility. Eye / EyeOff icon.

| Prop | Type | Description |
|---|---|---|
| `label` | `string` | Display label |
| `visible` | `boolean` | Public or private |

**Used in:** not yet used (available for future use)

---

## Field Components

Reusable field-type components with a consistent pattern: read-only by default, optionally editable via popover. Used in tables, headers, sidebars, and standalone contexts.

### DateField

`src/components/DateField.tsx`

Contextual date display with tooltip. Shows relative text when ≤7 days ago ("today", "yesterday", "3 days ago"), absolute otherwise ("Jan 15, 2025"). Tooltip shows the opposite format.

| Prop | Type | Default | Description |
|---|---|---|---|
| `value` | `string \| Date` | required | Date value (ISO string or Date object) |
| `editable` | `boolean` | `false` | Enable edit mode (not yet implemented) |
| `prefix` | `string?` | — | Text prefix (e.g. "Updated") |
| `className` | `string?` | — | Additional styling |

**Used in:** Strategy (header, last updated date)

### PersonField

`src/components/PersonField.tsx`

Avatar-based person display with nullable support. Read-only shows avatar + optional name. Editable shows avatar that opens a popover picker with the full people list. When `value` is `null`, displays a muted `CircleUser` placeholder icon (and "Add {title}" text when `showName` is true). Non-editable null state shows the icon with "None" text.

| Prop | Type | Default | Description |
|---|---|---|---|
| `value` | `string \| null` | required | Current person (name or initials), or `null` for unassigned |
| `resolveBy` | `"name"` / `"initials"` | `"name"` | How to resolve `value` to a person |
| `editable` | `boolean` | `true` | Enable click-to-pick mode |
| `showName` | `boolean` | `false` | Show person name next to avatar |
| `title` | `string?` | — | Field label used in placeholder ("Add {title}") and clear option ("No {title}") |
| `onSelect` | `(person \| null) => void` | — | Selection handler; passes `null` when "No {title}" is chosen |
| `className` | `string?` | — | Additional styling |

When `title` is provided and the field is editable, the dropdown prepends a "No {title}" option (with `CircleUser` icon) that clears the selection.

**Used in:** DecisionsTable (owner/sponsor cell), CommitmentsTable (owner cell), DecisionDetail (sidebar: requested by, sponsor, owner), InitiativesList (owner cell), InitiativeDetail (project table), ProjectsList (owner cell), Strategy (header, author)

### StatusField

`src/components/StatusField.tsx`

Status badge display. Read-only renders a colored `Badge` using `statusVariant`. Editable renders a clickable badge that opens a popover with status options. Works with both `DecisionStatus` and `CommitmentStatus`.

| Prop | Type | Default | Description |
|---|---|---|---|
| `value` | `DecisionStatus \| CommitmentStatus` | required | Current status |
| `editable` | `boolean` | `false` | Enable click-to-pick mode |
| `options` | `{ value, label }[]` | — | Available status options (required when editable) |
| `onSelect` | `(value) => void` | — | Selection handler |
| `className` | `string?` | — | Additional styling |

**Used in:** DecisionsTable (status cell, combined statusOwner cell), CommitmentsTable (status cell), DecisionDetail (sidebar: status)

### SessionField

`src/components/SessionField.tsx`

Session pill display: chat icon + session number + formatted date. Renders as a `Link` when `circleSlug` is provided, otherwise a static `span`.

| Prop | Type | Default | Description |
|---|---|---|---|
| `number` | `number` | required | Session number |
| `date` | `string` | required | Session date (ISO string) |
| `circleSlug` | `string?` | — | Circle slug for link (omit for static display) |
| `editable` | `boolean` | `false` | Enable edit mode (not yet implemented) |
| `className` | `string?` | — | Additional styling |

**Used in:** DecisionsTable (session cell)

---

## Interactive Components

### InlineText

`src/components/InlineText.tsx`

Click-to-edit text field. Shows static text that becomes an input on click. Enter saves, Escape cancels.

| Prop | Type | Default | Description |
|---|---|---|---|
| `value` | `string` | required | Current value |
| `onChange` | `(value) => void` | required | Save handler |
| `className` | `string?` | — | Styling |
| `placeholder` | `string?` | `"Empty"` | Placeholder when empty |
| `as` | `"div"` / `"h1"` / `"p"` | `"div"` | HTML element to render |

**Used in:** PageTitle (internally, for editable mode), InitiativeDetail (summary), ProjectDetail (description)

### PropertySelect

`src/components/PropertySelect.tsx`

Inline property picker. Clickable trigger opens a popover with options. Each option can have an icon. Checkmark on selected item.

| Prop | Type | Description |
|---|---|---|
| `value` | `string` | Current value |
| `options` | `{ value, label, icon? }[]` | Available options |
| `onSelect` | `(value) => void` | Selection handler |
| `triggerClassName` | `string?` | Custom trigger styling |

**Used in:** InitiativeDetail (status, health, owner, target), ProjectDetail (health, visibility, owner)

### MarkdownEditor

`src/components/MarkdownEditor.tsx`

TipTap-based rich text editor with markdown serialization. BubbleMenu toolbar: bold, italic, strike, code, link, headings (H2/H3), lists, blockquote. Slash commands for block insertion.

| Prop | Type | Description |
|---|---|---|
| `content` | `string` | Initial markdown content |
| `onChange` | `(markdown) => void` | Change handler |

**Used in:** Strategy (main content), DecisionDetail (rationale, discussion), InitiativeDetail (description), SessionDetail (meeting notes)

---

## UI Primitives (shadcn)

These are standard shadcn/ui components. Not documented individually here, but the notable ones:

| Primitive | Notable usage |
|---|---|
| `DataTable` | Base for DecisionsTable, CommitmentsTable, and direct use in CirclesList, InitiativesList, ProjectsList, SessionsList, InitiativeDetail |
| `Badge` | Status badges throughout the app |
| `Avatar` | Person display throughout the app |
| `Button` | Actions, filters, toggles |
| `Checkbox` | DecisionDetail (notify requestor) |
| `Popover` | Filter/Display dropdowns, PropertySelect, PersonSelector, icon picker |
| `Select` | Filter dropdowns (health, team, owner), invite selector |
| `Sidebar*` | AppSidebar |
| `Collapsible` | AppSidebar circle sections, DetailSidebar sections |
| `ScrollArea` | App shell main content area |

---

## Hooks

### usePageHeader

`src/hooks/usePageHeader.ts`

Allows pages to inject their header content into the App shell's sticky header via React Router's Outlet context. Accepts `pageTitle`, `headerContent` (JSX), and optional `breadcrumbs`.

**Used in:** every page
