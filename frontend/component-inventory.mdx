---
title: "Component Inventory"
description: "Canonical list of every shared component, its purpose, props, and which pages use it."
---

## Layout Components

### TextField

`src/components/TextField.tsx`

Click-to-edit text field with full styling control via Tailwind utility props. Replaces the former `PageTitle` and `InlineText` components. Renders static text that becomes an `<input>` (or `<textarea>` when `multiline`) on click. Enter/blur saves, Escape cancels.

**Page title usage:**
```tsx
<TextField value={title} onChange={setTitle} size="text-[1.5rem]" weight="font-semibold" leading="leading-[2rem]" tracking="tracking-[-0.16px]" as="h1" />
```

**Description/summary usage:**
```tsx
<TextField value={desc} onChange={setDesc} size="text-[0.9375rem]" color="text-muted-foreground" leading="leading-relaxed" placeholder="Add a description..." as="p" />
```

| Prop | Type | Default | Description |
|---|---|---|---|
| `value` | `string` | required | Current value |
| `onChange` | `(value) => void` | required | Save handler |
| `placeholder` | `string?` | `"Empty"` | Placeholder when empty |
| `placeholderColor` | `string?` | `"text-muted-foreground/50"` | Tailwind class for placeholder color |
| `color` | `string?` | inherits | Tailwind text color class |
| `size` | `string?` | `"text-sm"` | Tailwind text-size class |
| `weight` | `string?` | `"font-normal"` | Tailwind font-weight class |
| `leading` | `string?` | — | Tailwind leading class |
| `tracking` | `string?` | — | Tailwind tracking class |
| `multiline` | `boolean` | `false` | Use textarea instead of input |
| `maxChars` | `number?` | — | Character limit |
| `as` | `"div"` / `"h1"` / `"p"` | `"div"` | Display-mode HTML tag |
| `editable` | `boolean` | `true` | When `false`, click-to-edit is disabled and cursor-text is removed |
| `className` | `string?` | — | Additional styling |

**Used in:** DecisionDetail (title), CommitmentReview (title), InitiativeDetail (title, summary), ProjectDetail (title, description), SessionDetail (title)

### PageHeader / PageHeaderRow / PageHeaderGroup

`src/components/PageHeader.tsx`

Consistent page header layout injected into the App shell's sticky header area via the `usePageHeader` hook. `PageHeader` wraps rows, `PageHeaderRow` is a horizontal bar with `border-b`, `PageHeaderGroup` groups items with flex gap. Convention: Row 1 = title + tabs + actions, Row 2 = Filter + Display popovers.

| Prop | Type | Description |
|---|---|---|
| `children` | ReactNode | Content |

**Used in:** every page

### DetailSidebar (SidebarSection)

`src/components/DetailSidebar.tsx`

Right-side detail panel for entity detail pages. Fixed-position aside, 288px wide, slides in/out with transition. `SidebarSection` is a collapsible section with title. Property rows inside use `PropertiesRow` with `stacked` layout.

| Component | Props |
|---|---|
| `SidebarSection` | `title: string`, `defaultOpen?: boolean` (default true), `children: ReactNode` |

**Used in:** DecisionDetail, CommitmentReview, InitiativeDetail, ProjectDetail

### PropertiesRow (+ PropertiesRow.Item)

`src/components/PropertiesRow.tsx`

Renders a group of field components in either inline (horizontal) or stacked (vertical) layout. Provides an `editable` flag via React context that child fields can read with the `usePropertiesEditable()` hook.

**Inline usage (detail page body):**
```tsx
<PropertiesRow title="Properties">
  <PropertiesRow.Item><StatusField value={status} /></PropertiesRow.Item>
  <PropertiesRow.Item><PersonField value={owner} /></PropertiesRow.Item>
</PropertiesRow>
```

**Stacked usage (sidebar):**
```tsx
<PropertiesRow stacked>
  <PropertiesRow.Item label="Status"><StatusField value={status} /></PropertiesRow.Item>
  <PropertiesRow.Item label="Owner"><PersonField value={owner} /></PropertiesRow.Item>
</PropertiesRow>
```

**Read-only usage:**
```tsx
<PropertiesRow title="Properties" editable={false}>
  ...fields inherit read-only via usePropertiesEditable()
</PropertiesRow>
```

| Prop | Type | Default | Description |
|---|---|---|---|
| `title` | `string?` | — | Label shown at start of row (inline mode only) |
| `stacked` | `boolean` | `false` | Vertical layout with labeled rows (for sidebars) |
| `editable` | `boolean` | `true` | Propagated via context to child fields |
| `className` | `string?` | — | Additional styling |

`PropertiesRow.Item` props:

| Prop | Type | Description |
|---|---|---|
| `label` | `string?` | Row label (only rendered in stacked mode) |
| `children` | `ReactNode` | Field content |

Exports `usePropertiesEditable()` hook for field components to read the inherited editable state.

**Used in:** DecisionDetail, CommitmentReview, InitiativeDetail, ProjectDetail (both inline and stacked)

### EntityIcon

`src/components/EntityIcon.tsx`

Centralized icon map for all domain entities. Renders the canonical Lucide icon for a given entity type. Single source of truth — all entity icon references across the app go through this component.

```tsx
<EntityIcon type="decision" className="h-3.5 w-3.5" />
```

| Prop | Type | Default | Description |
|---|---|---|---|
| `type` | `EntityType` | required | Entity type to render icon for |
| `className` | `string?` | — | Size and style overrides (e.g. `"h-3 w-3"`) |

**Entity → Icon mapping:**

| Type | Lucide Icon |
|---|---|
| `decision` | `Split` |
| `commitment` | `Hexagon` |
| `session` | `MessageCircleMore` |
| `circle` | `SquareUserRound` |
| `initiative` | `Rocket` |
| `project` | `Box` |
| `strategy` | `Compass` |
| `inbox` | `Inbox` |
| `myItems` | `IterationCcw` |

Also exports the `EntityType` union type.

**Used in:** AppSidebar (all nav icons), ProjectsList (decision/commitment column headers + cells), InitiativeDetail (decision/commitment column headers + cells), SessionField (session pill icon)

### AppSidebar

`src/components/AppSidebar.tsx`

Main navigation sidebar. Uses shadcn `Sidebar*` primitives + Radix `Collapsible`. All entity icons use `EntityIcon` component. Structure:

- **Header** — workspace switcher (DropdownMenu with ChevronsUpDown). Lists workspaces the user belongs to; Check icon marks the active one. Switching navigates to `/`.
- **Top-level links** — Inbox, My Items
- **Workspace section** — Strategy, Initiatives, Projects, Circles
- **Your Circles** — one collapsible per circle (filtered by active workspace) with sub-items:
  - Sessions (Previous / Current (if exists) / Upcoming shortcuts)
  - Decisions
  - Commitments

First circle is expanded by default. Active route is highlighted.

**Used in:** App shell (always visible)

---

## Data Display Components

### DecisionsTable

`src/components/DecisionsTable.tsx`

Reusable decisions table wrapping `DataTable`. Decision-specific columns: ref, statement, circle, session link, owner avatar, status badge, age. Supports column visibility toggling, combined status+owner column for compact views, drag-and-drop reorder, and click-to-open handler.

| Prop | Type | Default | Description |
|---|---|---|---|
| `decisions` | `Decision[]` | required | Decision data |
| `showCircle` | `boolean` | `true` | Show circle column |
| `showSession` | `boolean` | `false` | Show session column |
| `showAge` | `boolean` | `true` | Show age column |
| `noDividers` | `boolean` | — | Remove row dividers |
| `onReorder` | `(from, to) => void` | — | Enable drag-and-drop |
| `onDecisionClick` | `(decision) => void` | — | Click handler (replaces Link) |
| `showSelect` | `boolean` | — | Show row selection checkboxes |
| `showDragHandle` | `boolean` | — | Show drag handle |
| `showHeader` | `boolean` | — | Show table header |
| `combinedStatusOwner` | `boolean` | `false` | Merge status + owner into single right-aligned column |
| `personColumn` | `"owner"` / `"sponsor"` | `"owner"` | Which person to show in owner column |

**Used in:** Inbox, MyItems, CircleDecisions, SessionDetail

### CommitmentsTable

`src/components/CommitmentsTable.tsx`

Reusable commitments table wrapping `DataTable`. Commitment-specific columns: ref, outcome, decision ref, circle, owner avatar, due date, status badge.

| Prop | Type | Default | Description |
|---|---|---|---|
| `commitments` | `Commitment[]` | required | Commitment data |
| `showOwner` | `boolean` | `true` | Show owner column |
| `showCircle` | `boolean` | `true` | Show circle column |
| `showDecision` | `boolean` | `true` | Show decision column |
| `noDividers` | `boolean` | — | Remove row dividers |
| `showSelect` | `boolean` | — | Show row selection checkboxes |
| `showHeader` | `boolean` | — | Show table header |
| `combinedStatusOwner` | `boolean` | `false` | Merge decision ref + owner into single column |

**Used in:** MyItems, CircleCommitments, DecisionDetail, SessionDetail

### DecisionList

`src/components/DecisionList.tsx`

Lightweight decision list for project context. Compact row format: StatusField (icon + text), ref, title, circle name, age. Uses `ProjectDecision` type (from projects-store), not the main `Decision` type.

| Prop | Type | Description |
|---|---|---|
| `decisions` | `ProjectDecision[]` | Decision data |

**Used in:** ProjectDetail (decisions tab)

### CommitmentList

`src/components/CommitmentList.tsx`

Lightweight commitment list for project context. Compact row format: status badge (fixed width), ref, outcome, owner first name, due label. Uses `ProjectCommitment` type (from projects-store).

| Prop | Type | Description |
|---|---|---|
| `commitments` | `ProjectCommitment[]` | Commitment data |

**Used in:** ProjectDetail (commitments tab)

### ChangeLog

`src/components/ChangeLog.tsx`

Activity feed. Each entry shows avatar, person name, action description, optional from/to values, and days ago.

| Prop | Type | Description |
|---|---|---|
| `entries` | `ChangeLogEntry[]` | Activity entries |

**Used in:** DecisionDetail (activity section), CommitmentReview (activity tab)

### HealthIndicator

`src/components/HealthIndicator.tsx`

Visual health status with colored icon (TrendingUp / TrendingUpDown / TrendingDown) and label. Optional staleness indicator ("Xd").

| Prop | Type | Description |
|---|---|---|
| `health` | `InitiativeHealth` | `"on-track"` / `"at-risk"` / `"off-track"` |
| `daysAgo` | `number?` | Days since last health update |

**Used in:** InitiativesList, InitiativeDetail (project table), ProjectsList, ProjectDetail (sidebar)

### VisibilityIndicator

`src/components/VisibilityIndicator.tsx`

Inline icon + label for public/private visibility. Eye / EyeOff icon.

| Prop | Type | Description |
|---|---|---|
| `label` | `string` | Display label |
| `visible` | `boolean` | Public or private |

**Used in:** not yet used (available for future use)

---

## Field Components

Reusable field-type components with a consistent pattern: read-only by default, optionally editable via popover. Used in tables, headers, sidebars, and standalone contexts.

### DateField

`src/components/DateField.tsx`

Contextual date display with tooltip. Shows relative text when ≤7 days ago ("today", "yesterday", "3 days ago"), absolute otherwise ("Jan 15, 2025"). Tooltip shows the opposite format.

| Prop | Type | Default | Description |
|---|---|---|---|
| `value` | `string \| Date` | required | Date value (ISO string or Date object) |
| `editable` | `boolean` | `false` | Enable edit mode (not yet implemented) |
| `prefix` | `string?` | — | Text prefix (e.g. "Updated") |
| `className` | `string?` | — | Additional styling |

**Used in:** Strategy (header, last updated date), SessionDetail (session date)

### PersonField

`src/components/PersonField.tsx`

Avatar-based person display with nullable support. Read-only shows avatar + optional name. Editable shows avatar that opens a popover picker with the full people list. When `value` is `null`, displays a muted placeholder icon (and "Add {title}" text when `showName` is true). Non-editable null state shows the icon with "None" text.

| Prop | Type | Default | Description |
|---|---|---|---|
| `value` | `string \| null` | required | Current person (name or initials), or `null` for unassigned |
| `resolveBy` | `"name"` / `"initials"` | `"name"` | How to resolve `value` to a person |
| `editable` | `boolean` | `true` | Enable click-to-pick mode |
| `showName` | `boolean` | `false` | Show person name next to avatar |
| `title` | `string?` | — | Field label used in placeholder ("Add {title}") and clear option ("No {title}") |
| `onSelect` | `(person \| null) => void` | — | Selection handler; passes `null` when "No {title}" is chosen |
| `workspaceId` | `string?` | — | Scope picker dropdown to people in this workspace |
| `className` | `string?` | — | Additional styling |

When `title` is provided and the field is editable, the dropdown prepends a "No {title}" option that clears the selection.

**Used in:** DecisionsTable (owner/sponsor cell), CommitmentsTable (owner cell), DecisionDetail (sidebar: requested by, sponsor, owner), InitiativesList (owner cell), InitiativeDetail (project table), ProjectsList (owner cell), SessionDetail (chair), Strategy (header, author)

### StatusField

`src/components/StatusField.tsx`

Config-driven status display with icon + text. Supports three entity types (decision, commitment, initiative) via a `type` prop — no `options` prop needed, options are derived from an internal config map. Read-only renders a `<span>` with colored icon + muted label. Editable renders a `<button>` trigger (matching PersonField style: `rounded px-1.5 py-0.5 hover:bg-muted`) that opens a popover dropdown with all status options for that type.

Also exports a `getStatusConfig(type, value)` helper for external icon/color lookup, and a `StatusType` union type.

| Prop | Type | Default | Description |
|---|---|---|---|
| `type` | `StatusType` | required | Entity type: `"decision"`, `"commitment"`, or `"initiative"` |
| `value` | `string` | required | Current status value (e.g. `"Draft"`, `"Active"`, `"active"`) |
| `editable` | `boolean` | `false` | Enable click-to-pick mode |
| `onSelect` | `(value: string) => void` | — | Selection handler (returns the config map key) |
| `className` | `string?` | — | Additional styling |

**Config map:**

| Type | Status | Icon | Color |
|---|---|---|---|
| decision | Draft | `Circle` | `text-muted-foreground` |
| decision | Requested | `CircleDot` | `text-amber-600` |
| decision | Scheduled | `CircleDashed` | `text-blue-600` |
| decision | Taken | `CircleCheck` | `text-green-600` |
| decision | Rolled | `RotateCcw` | `text-red-600` |
| commitment | Active | `CircleDot` | `text-blue-600` |
| commitment | At risk | `CircleAlert` | `text-amber-600` |
| commitment | Delivered | `CircleCheck` | `text-green-600` |
| commitment | Rolled | `RotateCcw` | `text-red-600` |
| initiative | active | `CircleDot` | `text-blue-600` |
| initiative | planned | `Circle` | `text-muted-foreground` |
| initiative | completed | `CircleCheck` | `text-green-600` |

Lowercase aliases (`draft`, `requested`, `atRisk`, etc.) are supported for `ProjectDecisionStatus` / `ProjectCommitmentStatus` values.

**Used in:** DecisionsTable (status cell, combined statusOwner cell), CommitmentsTable (status cell), DecisionDetail (sidebar: status), AgendaCard (commitment + decision statuses), SessionDetail (drawer decision status), CommitmentReview (inline + sidebar + linked decision), DecisionList (project decision status), InitiativeDetail (inline + sidebar status)

### SessionField

`src/components/SessionField.tsx`

Session pill display: `EntityIcon` session icon + `#number` + relative date. Renders as a `Link` when `circleSlug` is provided, otherwise a static `span`. Date is formatted as relative ("today", "yesterday", "3d ago", "in 2d") for ≤7 days, otherwise "DD Mon".

| Prop | Type | Default | Description |
|---|---|---|---|
| `number` | `number` | required | Session number |
| `date` | `string?` | — | Session date (ISO string, optional) |
| `circleSlug` | `string?` | — | Circle slug for link (omit for static display) |
| `className` | `string?` | — | Additional styling |

**Used in:** DecisionsTable (session cell)

---

## Interactive Components

### TextField

See [Layout Components > TextField](#textfield) above.

### PropertySelect

`src/components/PropertySelect.tsx`

Inline property picker. Clickable trigger opens a popover with options. Each option can have an icon. Checkmark on selected item.

| Prop | Type | Description |
|---|---|---|
| `value` | `string` | Current value |
| `options` | `{ value, label, icon? }[]` | Available options |
| `onSelect` | `(value) => void` | Selection handler |
| `triggerClassName` | `string?` | Custom trigger styling |

**Used in:** InitiativeDetail (health, target), ProjectDetail (health, visibility, owner), SessionDetail (Open/Closed status)

### MarkdownEditor

`src/components/MarkdownEditor.tsx`

TipTap-based rich text editor with markdown serialization. BubbleMenu toolbar: bold, italic, strike, code, link, headings (H2/H3), lists, blockquote. Slash commands for block insertion.

| Prop | Type | Default | Description |
|---|---|---|---|
| `content` | `string` | required | Initial markdown content |
| `onChange` | `(markdown) => void` | — | Change handler |
| `placeholder` | `string?` | — | Muted placeholder text shown when editor is empty |
| `editable` | `boolean` | `true` | When `false`, editor is non-editable and BubbleMenu is hidden |

**Used in:** Strategy (main content), DecisionDetail (description, discussion, summary), InitiativeDetail (description), SessionDetail (meeting notes)

### ReadOnlyBanner

`src/components/ReadOnlyBanner.tsx`

Full-width banner with Lock icon. Used to indicate that a page is read-only. Default styling is amber (`bg-amber-50 text-amber-800`); override via `className` for variants (e.g. gray for cancelled sessions).

```tsx
<ReadOnlyBanner>This session is closed. Re-open it to make changes.</ReadOnlyBanner>
<ReadOnlyBanner className="bg-muted text-muted-foreground">This session was cancelled.</ReadOnlyBanner>
```

| Prop | Type | Default | Description |
|---|---|---|---|
| `children` | `ReactNode` | required | Banner message content |
| `className` | `string?` | — | Additional styling |

**Used in:** SessionDetail (shown when session status is Closed or Cancelled)

---

## UI Primitives (shadcn)

These are standard shadcn/ui components. Not documented individually here, but the notable ones:

| Primitive | Notable usage |
|---|---|
| `DataTable` | Base for DecisionsTable, CommitmentsTable, and direct use in CirclesList, InitiativesList, ProjectsList, SessionsList, InitiativeDetail |
| `Badge` | Session badges, misc labels (status badges replaced by `StatusField`) |
| `Avatar` | Person display throughout the app |
| `Button` | Actions, filters, toggles |
| `Checkbox` | DecisionDetail (notify requestor) |
| `Popover` | Filter/Display dropdowns, PropertySelect, PersonSelector, icon picker |
| `Select` | Filter dropdowns (health, owner), invite selector |
| `Sidebar*` | AppSidebar |
| `Collapsible` | AppSidebar circle sections, DetailSidebar sections |
| `ScrollArea` | App shell main content area |

---

## Hooks

### usePageHeader

`src/hooks/usePageHeader.ts`

Allows pages to inject their header content into the App shell's sticky header via React Router's Outlet context. Accepts `pageTitle`, `headerContent` (JSX), and optional `breadcrumbs`.

**Used in:** every page

### useWorkspace

`src/lib/workspace-context.tsx`

Returns the active workspace context: `activeWorkspaceId`, `setActiveWorkspaceId`, `workspace` (current `Workspace` object), and `workspaces` (all workspaces the user has access to). Must be used within `WorkspaceProvider`.

**Used in:** AppSidebar, Inbox, MyItems, InitiativesList, ProjectsList, Strategy
