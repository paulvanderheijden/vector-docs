---
title: "Schema"
description: "The entity model behind Vector."
---

This is the conceptual schema for Vector V1. It describes the entities and their fields as implemented in the Django backend.

## Entities

| Entity             | Description                                                               |
| ------------------ | ------------------------------------------------------------------------- |
| **Workspace**      | The organization; people access it via membership                         |
| **Person (User)**  | A user; can belong to multiple workspaces                                 |
| **Circle**         | A recurring forum where decisions are routed and commitments are reviewed |
| **Session**        | A record that a circle actually met                                       |
| **Initiative**     | A strategic bet with status and target date                               |
| **Project**        | An execution container; belongs to exactly one initiative                 |
| **Decision**       | A direction-setting artifact routed through a circle                      |
| **Commitment**     | An execution artifact reviewed in a circle                                |
| **Update**         | A health report on an initiative or project                               |

## Entity details

### Workspace

| Field     | Type               | Required |
| --------- | ------------------ | -------- |
| `name`    | string             | yes      |
| `slug`    | string (unique)    | yes      |
| `created_at` | datetime        | yes (auto) |
| `members` | WorkspaceMember[]  | yes      |

A **WorkspaceMember** is `{ user, role, is_active }` where role is:

| Value | Description |
|---|---|
| `admin` | Can manage workspace settings, invite/remove people, create/edit circles, and manage all entities |
| `member` | Can view and create entities within the workspace; cannot manage workspace settings or membership |

### Person (User)

There is no separate Person table. The Django `User` model stores both authentication credentials and profile data. The `name` and `initials` properties are computed at the model level.

| Field                  | Type      | Required |
| ---------------------- | --------- | -------- |
| `email`                | email (unique) | yes  |
| `first_name`           | string    | no       |
| `last_name`            | string    | no       |
| `job_title`            | string    | no       |
| `avatar_url`           | url       | no       |
| `last_active_workspace` | Workspace | no      |

Computed properties (not stored):
- `name` — `"{first_name} {last_name}"` or email fallback
- `initials` — first letter of first + last name, or first letter of email

A person is **not** workspace-scoped — they can belong to multiple workspaces via `WorkspaceMember`. Authentication is at the person level; workspace access is determined by membership.

### Circle

| Field         | Type             | Required |
| ------------- | ---------------- | -------- |
| `workspace`   | Workspace        | yes      |
| `name`        | string           | yes      |
| `slug`        | slug (unique per workspace) | yes |
| `cadence`     | Cadence          | yes      |
| `icon`        | string           | no       |
| `icon_bg`     | string           | no       |

**Cadence** values:

| Value | Description |
|---|---|
| `Weekly` | The circle meets every week |
| `Biweekly` | The circle meets every two weeks |
| `Manual` | Sessions are created manually; the system does not auto-generate next sessions |

A **CircleMembership** is `{ user, is_chair }`:

| Field | Type | Description |
|---|---|---|
| `user` | User | The circle member |
| `is_chair` | boolean | If `true`, the member can manage session agendas, schedule decisions, and close sessions |

### Session

| Field           | Type         | Required |
| --------------- | ------------ | -------- |
| `workspace`     | Workspace    | yes      |
| `number`        | positive integer | yes  |
| `title`         | string       | yes      |
| `slug`          | slug (unique per workspace) | yes |
| `date`          | date         | yes      |
| `status`        | SessionStatus | yes     |
| `notes`         | text (markdown) | no    |
| `circle`        | Circle       | yes      |
| `decisions`     | Decision[] (M2M with order) | — |
| `commitments`   | Commitment[] (M2M with order) | — |
| `changelog`     | JSON array   | no       |

Session numbers are per-circle, starting at 1.

**SessionStatus** values:

| Value | Description |
|---|---|
| `Open` | The session is upcoming or in progress — decisions and commitments can be edited |
| `Closed` | The session has concluded — all fields are locked except status |
| `Cancelled` | The session was cancelled — all fields are locked except status |

### Initiative

| Field          | Type                                | Required |
| -------------- | ----------------------------------- | -------- |
| `workspace`    | Workspace                           | yes      |
| `title`        | string                              | yes      |
| `slug`         | slug (unique per workspace)         | yes      |
| `summary`      | text                                | no       |
| `description`  | text                                | no       |
| `owner`        | User                                | no       |
| `icon`         | string                              | no       |
| `icon_color`   | string                              | no       |
| `target`       | string                              | no       |
| `status`       | InitiativeStatus                    | yes      |

**InitiativeStatus** values:

| Value | Description |
|---|---|
| `planned` | The initiative has been defined but work has not started |
| `active` | The initiative is in progress — projects are being executed |
| `completed` | The initiative has been delivered or closed |

Computed fields (not stored):
- `project_count` — number of projects under this initiative
- `completed_project_count` — projects with all work delivered
- `worst_health` — derived from the worst health status across all project Updates

### Project

| Field          | Type                     | Required |
| -------------- | ------------------------ | -------- |
| `workspace`    | Workspace                | yes      |
| `title`        | string                   | yes      |
| `slug`         | slug (unique per workspace) | yes   |
| `description`  | text                     | no       |
| `initiative`   | Initiative               | yes      |
| `owner`        | User                     | no       |

Computed fields (not stored):
- `health` — derived from the project's most recent Update
- `open_commitment_count` — commitments linked to this project with status `Active`
- `active_decision_count` — decisions linked to this project excluding `Taken` and `Superseded`

### Decision

| Field                 | Type                                                    | Required |
| --------------------- | ------------------------------------------------------- | -------- |
| `workspace`           | Workspace                                               | yes      |
| `ref`                 | string                                                  | yes      |
| `statement`           | string (max 500)                                        | yes      |
| `slug`                | slug (unique per workspace)                             | yes      |
| `description`         | text                                                    | no       |
| `discussion`          | text                                                    | no       |
| `summary`             | text                                                    | no       |
| `status`              | DecisionStatus                                          | yes      |
| `rolled`              | boolean                                                 | no       |
| `requested_date`      | date                                                    | no       |
| `circle`              | Circle                                                  | yes      |
| `requested_by`        | User                                                    | no       |
| `sponsor`             | User                                                    | no       |
| `owner`               | User                                                    | no       |
| `revisit_of`          | Decision (self-referential)                             | no       |
| `projects`            | Project[] (M2M via DecisionProject)                     | —        |
| `changelog`           | JSON array                                              | no       |

The decision's age in days is computed in the frontend from `requested_date`. Age is null while the decision is in Draft status.

`requested_date` is auto-set when the decision moves from Draft to Requested.

`sponsor` is set when the decision is Scheduled into a session. Must be a circle member.

`owner` is set when the decision is Taken. Tracks long-term validity and can revoke.

`rolled` is set to `true` when a session is closed and the decision was still open (not Taken or Superseded). Once rolled, the available status transitions are: Rolled, Taken, or Superseded.

**DecisionStatus** values:

| Value | Description |
|---|---|
| `Draft` | Created but not ready for discussion. The requestor is gathering context and framing options. |
| `Requested` | Formally submitted to a circle. The age counter starts. Available for an upcoming session. |
| `Scheduled` | Placed on a specific session's agenda. A sponsor has been assigned to drive the discussion. |
| `Rolled` | Was on the agenda but not resolved in the session. Carries over to the next session — the age counter keeps ticking. |
| `Taken` | The circle made the call. An owner has been assigned. The decision is closed and commitments may be created from it. |
| `Superseded` | Explicitly replaced by another decision. Historical only — read-only forever. |

### Commitment

| Field           | Type                                       | Required |
| --------------- | ------------------------------------------ | -------- |
| `workspace`     | Workspace                                  | yes      |
| `ref`           | string                                     | yes      |
| `outcome`       | string (max 500)                           | yes      |
| `slug`          | slug (unique per workspace)                | yes      |
| `description`   | text                                       | no       |
| `status`        | CommitmentStatus                           | yes      |
| `due`           | string                                     | no       |
| `circle`        | Circle                                     | yes      |
| `owner`         | User                                       | no       |
| `decision`      | Decision                                   | no       |
| `project`       | Project                                    | no       |
| `changelog`     | JSON array                                 | no       |

**CommitmentStatus** values:

| Value | Description |
|---|---|
| `Active` | On track, being worked on. The owner is progressing toward the due date. |
| `Rolled` | The due date passed without delivery. The commitment visibly carries over to the next session. |
| `Delivered` | The outcome has been completed. The commitment is closed. |

### Update

Health updates for both initiatives and projects. Each update is linked to exactly one of the two.

| Field            | Type     | Required |
| ---------------- | -------- | -------- |
| `workspace`      | Workspace                                  | yes      |
| `initiative`     | Initiative                                 | no       |
| `project`        | Project                                    | no       |
| `author`         | User                                       | no       |
| `date`           | date                                       | yes      |
| `health`         | Health                                     | yes      |
| `content`        | text (markdown)                            | yes      |

Exactly one of `initiative` or `project` must be set per update.

**Health** values:

| Value | Description |
|---|---|
| `on-track` | The work is progressing as expected. No blockers or risks. |
| `at-risk` | There are concerns — potential delays, blockers, or dependencies that may cause problems. |
| `off-track` | Behind schedule or has significant issues that need intervention. |

## Changelog

Activity history for decisions, commitments, and sessions is stored as a JSON array directly on each entity (the `changelog` field) rather than in a separate Activity Event table. Each entry follows this structure:

```json
{
  "action": "status",
  "person": "Matt Welle",
  "date": "2026-02-10",
  "from": "Scheduled",
  "to": "Taken"
}
```

Common action types: `created`, `status`, `sponsor`, `owner`, `assigned`, `due`.

This approach was chosen over a separate events table for simplicity — the changelog data is always read with its parent entity and doesn't need independent querying.

## Hard constraints (V1)

- A decision must have exactly **one circle** (always non-null)
- A decision must have a **sponsor** when scheduled (non-null at that point; must be a circle member)
- A decision must have an **owner** when taken (non-null at that point)
- Before those lifecycle stages, sponsor and owner are nullable
- A commitment has exactly **one circle** for review
- A project must belong to exactly **one initiative**
- An update must be linked to exactly **one** initiative or project (not both)

## Data integrity

- **Workspace members are soft-deleted** (`is_active` set to `False`), never hard-removed. This preserves historical references (requestor, sponsor on past decisions).
- **Active ownership roles must be reassigned** when a person is disabled — the reassignment flow is not yet designed (deferred).
- All foreign keys to User use `SET_NULL` so historical references remain intact.

## Cut from V1

The following entities are deferred to a future version:

- **Portfolio** — replaced by visibility controls on initiatives and projects
- **Cycle** — deferred
- **Priority** — deferred
- **Goal** — deferred
